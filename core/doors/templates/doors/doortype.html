{% extends 'index.html' %}

{% block menu-text%}{{ doortype.title }}{% endblock %}
{% block video %}
{% endblock %}
{% block conthead %}
	<p class="dtype-title">
		{{ doortype.collection }} {{ doortype.subcategory.title }}
	</p>
	<hr>
	<div class="row">
		<div class="col-4 mb-5 mt-3">
		</div>
		<div class="col-4 mb-5 mt-3 text-center">
			<a href="{% url 'doors:subcategory' doortype.subcategory.id %}" 
				type="button" class="other-door-btn">
				<i class="fa fa-long-arrow-up" aria-hidden="true"></i>
				{{ doortype.subcategory.title }}
			</a>
		</div>
		<div class="col-4 mb-5 mt-3 text-end"></div>
	</div>
{% endblock %}
{% block content %}
<div class="row justify-content-center">
<div class="col-6 col-lg-3 mb-5">
	<div id="door-ct" class="carousel slide">
	  <div class="carousel-indicators" style="margin: -20px; padding-right:25px;">
	    <button type="button" data-bs-target="#door-ct" data-bs-slide-to="0" 
	    class="ct-btn active" aria-current="true" aria-label="Slide 1">
	      <img src="{{doortype.door_set.first.image.url}}" class="d-block thumb-ct" alt="...">
	    </button>
	    {% for door in doortype.door_set.all|slice:"1:" %}
	    <button type="button" data-bs-target="#door-ct" data-bs-slide-to="{{forloop.counter}}" 
	    class="ct-btn" aria-label="Slide {{forloop.counter|add:1}}">
			<img src="{{door.image.url}}" class="d-block thumb-ct" alt="...">
	    </button>
	    {% endfor %}
	  </div>
	  <div class="carousel-inner">
	    <div class="carousel-item active" data-bs-interval="10000">
	      <img src="{{doortype.door_set.first.image.url}}" class="d-block" alt="...">
	    </div>
	    {% for door in doortype.door_set.all|slice:"1:" %}
	    <div class="carousel-item">
	      <img src="{{door.image.url}}" class="d-block" alt="...">
	    </div>
	    {% endfor %}
	<!--     <div class="carousel-item">
	      <img src="{{door.image.url}}" class="d-block" alt="...">
	    </div> -->
	  </div>
	  <button class="carousel-control-prev" type="button" data-bs-target="#door-ct" 
	  	data-bs-slide="prev" onclick="document.getElementById('attrs-btnp').click()">
	    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
	    <span class="visually-hidden">Previous</span>
	  </button>
	  <button class="carousel-control-next" type="button" data-bs-target="#door-ct" 
	  	data-bs-slide="next" onclick="document.getElementById('attrs-btnn').click()">
	    <span class="carousel-control-next-icon" aria-hidden="true"></span>
	    <span class="visually-hidden">Next</span>
	  </button>
	</div>
</div>
<div class="break-col"></div>
<div class="col-12 col-lg-9">
	<div class="door-attr-card">
	<p class="mb-5 mt-3 ct-title"><span class="romb">{{ doortype.title }}</span></p>

	<div id="door-attrs" class="carousel slide">
		<div class="carousel-inner">
		    <div class="carousel-item active" data-bs-interval="10000">
		      	<div class="door-attr">
		      		<p><span>Коллекция:</span> {{ doortype.collection }}</p>
		      		<p><span>Цвет полотна:</span> {{ doortype.door_set.first.color_canvas }}</p>
		      	</div>
		    </div>
	    {% for door in doortype.door_set.all|slice:"1:" %}
	    <div class="carousel-item">
	      	<div class="door-attr">
	      		<p><span>Коллекция:</span> {{ doortype.collection }}</p>
	      		<p><span>Цвет полотна:</span> {{ door.color_canvas }}</p>
	      	</div>
	    </div>
	    {% endfor %}
	  </div>
	    <button hidden class="carousel-control-prev" type="button" 
	  		data-bs-target="#door-attrs" data-bs-slide="prev" id="attrs-btnp">
	    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
	    <span class="visually-hidden">Previous</span>
	  </button>
	  <button hidden class="carousel-control-next" type="button" 
	  		data-bs-target="#door-attrs" data-bs-slide="next" id="attrs-btnn">
	    <span class="carousel-control-next-icon" aria-hidden="true"></span>
	    <span class="visually-hidden">Next</span>
	  </button>
	</div>
	
	<div class="dtype-descrp ">
		{{ doortype.description|linebreaks }}

	</div>
</div>
</div>
</div>
<br>

{{ subcategory.description }}
{% endblock %}
{% block presentation %}
	<div class="col-12 door-caution">
		<small class="text-secondary">
			Внимание! Изображения дверных полотен и арок, рисунки стёкол, цветовая гамма могут отличаться от реальных в зависимости от цветопередачи и разрешения монитора. Обратите внимание, что при нанесении патины на дверное полотно, декоративное покрытие патиной может немного отличаться от представленного на сайте или в салоне, т.к. это ручной процесс создания эффекта старины.
		</small>
	{{ subcategory.description }}
	</div>
{% endblock %}

{% block contacts %}
{% endblock %}

